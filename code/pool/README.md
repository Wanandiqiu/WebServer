**线程池的实现**

线程池中的队列保存将来要去执行的任务，线程池有添加任务的方法，将任务添加到队列中后，通过条件变量去通知，休眠的线程会被唤醒，从工作队列取数据。

在构造函数中创建线程，循环的去判断工作队列是否为空，有任务到来，从工作队列中移除并执行任务。



**知识点补充：**

IO复用可以再一个进程中监听多个IO事件，但实现并发效率不高，若检测到1000个客户端数据到达，使用for循环处理这1000个请求，read数据并处理逻辑，处理完一个客户端，再到下一个客户端，处理一个客户端时，其他的不能被处理到，并发能力不高，若采取多进程/多线程方式提高并发量时，创建进程/线程开销较大。**所以采用线程池提高并发。主进程中采用IO复用同时检测多个客户端的数据过来，交给工作线程处理逻辑。**

本项目使用reactor模式

Proactor模式：主线程使用epoll_wait()检测有多少客户端数据到达，先将客户端数据读出，再交给工作线程处理

**ET与LT工作模式**

LT的工作模式：当文件描述符上的事件就绪后，如果事务没有处理完成或者没有处理，那么下一次epoll会提醒应用程序。

ET的工作模式：当文件描述符上的事件就绪后，如果事务没有处理完成或者没有处理，那么下一次epoll则不会提醒应用程序，这就要求我们的应用程序在收到一次提醒后，必须将当下的数据处理完成。

